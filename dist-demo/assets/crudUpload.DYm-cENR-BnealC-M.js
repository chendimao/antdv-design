import{d as w,q as D,c as y,o as $,r as S,a as O,b as q,l as P,n as c,f as j,h as V,w as v,i as C,j as d,u as B,m as M,s as T}from"./main-DXU4O6dz.js";var x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};function p(n){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?Object(arguments[o]):{},i=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(e).filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),i.forEach(function(r){F(n,r,e[r])})}return n}function F(n,o,e){return o in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e,n}var f=function(n,o){var e=p({},n,o.attrs);return c(T,p({},e,{icon:x}),null)};f.displayName="PlusOutlined";f.inheritAttrs=!1;const k=w({__name:"crudUpload",props:{modelValue:{},validateFun:{type:Function},item:{},formState:{},formData:{},isDisabled:{type:Boolean},id:{}},emits:["update:modelValue","change"],setup(n,{emit:o}){D([]);const e=n,i=o,r=y({get:()=>e.modelValue||[],set:t=>{i("update:modelValue",t)}});$(()=>{var t,a,l,s,m;(t=e.item)!=null&&t.initFun&&(r.value=e.item.initFun(e.formState)),(l=(a=e.item)==null?void 0:a.$attrs)!=null&&l.onMounted&&((m=(s=e.item)==null?void 0:s.$attrs)==null||m.onMounted(e.item,e.formState,e.formData))});const g={onChange:t=>{setTimeout(()=>{var a;(a=e.item.$attrs)!=null&&a.onChange&&e.item.$attrs.onChange(e.item,e.formState,e.formData,t),i("change",e.item,t)},0)},onPreview:t=>{setTimeout(()=>{var a;(a=e.item.$attrs)!=null&&a.onPreview&&e.item.$attrs.onPreview(e.item,e.formState,e.formData,t)},0)},onRemove:t=>{setTimeout(()=>{var a;(a=e.item.$attrs)!=null&&a.onRemove&&e.item.$attrs.onRemove(e.item,e.formState,e.formData,t)},0)},onDownload:t=>{setTimeout(()=>{var a;(a=e.item.$attrs)!=null&&a.onDownload&&e.item.$attrs.onDownload(e.item,e.formState,e.formData,t)},0)}};return(t,a)=>{var l;const s=S("a-upload"),m=O("render");return q(),P("div",null,[c(s,M({style:{width:"100%"},"file-list":r.value,"onUpdate:fileList":a[0]||(a[0]=u=>r.value=u),disabled:t.isDisabled,"list-type":"picture-card"},{...t.item.$attrs,...g}),j({default:v(()=>[d("div",null,[c(B(f)),a[1]||(a[1]=d("div",{style:{"margin-top":"8px"}},"上传",-1))])]),_:2},[V(((l=t.item)==null?void 0:l.$slots)??[],(u,h)=>({name:h,fn:v(b=>[C(d("div",null,null,512),[[m,()=>u(t.item,t.formState,t.formData,b)]])])}))]),1040,["file-list","disabled"])])}}});export{k as default};
